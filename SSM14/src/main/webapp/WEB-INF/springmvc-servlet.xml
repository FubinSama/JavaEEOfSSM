<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd
       http://www.springframework.org/schema/mvc
       http://www.springframework.org/schema/mvc/spring-mvc.xsd">

    <context:component-scan base-package="controller" />
    <context:component-scan base-package="service" />
    <context:component-scan base-package="validator" />

    <!--é…ç½®æ¶ˆæ¯å±æ€§æ–‡ä»¶ï¼Œæ³¨æ„å¿…é¡»åŠ classpathï¼Œè™½ç„¶IDEAä¼šæŠ¥é”™ğŸ˜‚-->
    <bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basenames">
            <list>
                <value>classpath:errorMessages</value>
            </list>
        </property>
        <!--èµ„æºæ–‡ä»¶çš„ç¼–ç æ ¼å¼-->
        <property name="fileEncodings" value="utf-8" />
        <!--å¯¹èµ„æºæ–‡ä»¶å†…å®¹ç¼“å­˜çš„æ—¶é—´ï¼Œå•ä½ä¸ºç§’-->
        <property name="cacheSeconds" value="120" />
    </bean>

    <!--æ³¨å†Œæ ¡éªŒå™¨-->
    <bean id="validator" class="org.springframework.validation.beanvalidation.LocalValidatorFactoryBean">
        <!-- hibernateæ ¡éªŒå™¨ -->
        <property name="providerClass" value="org.hibernate.validator.HibernateValidator" />
        <!-- æŒ‡å®šæ ¡éªŒä½¿ç”¨çš„èµ„æºæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­é…ç½®æ ¡éªŒé”™è¯¯ä¿¡æ¯ï¼Œ
        å¦‚æœä¸æŒ‡å®šåˆ™é»˜è®¤ä½¿ç”¨classpathä¸‹çš„ValidationMessages.properties -->
        <property name="validationMessageSource" ref="messageSource" />
    </bean>
    <!-- å¼€å¯Springçš„VaildåŠŸèƒ½ -->
    <mvc:annotation-driven validator="validator" />

    <!--ä½¿ç”¨resourcesæ—¶å¿…é¡»ä½¿ç”¨annotation-drivenï¼Œå¦åˆ™resourceså…ƒç´ ä¼šé˜»æ­¢ä»»æ„æ§åˆ¶å™¨è¢«è°ƒç”¨-->
    <!--é…ç½®SpringMVCçš„è§†å›¾è§£æå™¨-->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver" id="internalResourceViewResolver">
        <!--å‰ç¼€-->
        <property name="prefix" value="/WEB-INF/jsp/" />
        <!--åç¼€-->
        <property name="suffix" value=".jsp" />
    </bean>

</beans>